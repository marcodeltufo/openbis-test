New Entity Type Registration
============================



  
Entity types, i.e.
*Experiment/Collection*, *Object* and *Dataset* types, as well as
*Property types* and *Controlled Vocabularies* constitute the openBIS
**masterdata**. They can be created by someone with *Instance admin*
role in the **new Admin openBIS UI**. 

 

Note: *Material* types are also
part of the openBIS masterdata. However, they are no longer supported
and will be decommissioned soon. They should NOT be used. 

 

The new Admin openBIS UI can be accessed
via a URL of this type:
**https://openbis-xxx/openbis/webapp/openbis-ng-ui/**

  
where openbis-xxx is the name of the
server specified in the openBIS configuration file, during the
installation by a system admin.

 

 

Register a new Object Type
^^^^

 

1.  Select **Types -&gt; Object Types** from the menu.
2.  Click **Add** at the bottom of the page.

 

.. image:: https://openbis.ch/wp-content/uploads/2020/02/add-object-type-1024x382.png

 

 

.. image:: https://openbis.ch/wp-content/uploads/2022/02/add-new-object-type-1024x539.png

 

 

3\. Enter a ***Code***. E.g. **INSTRUMENT**. This is the name of the
Object to create and is unique. Please note that Codes should be in
capital letters, and they can only contain <span
class="jss104 undefined" part="error">A-Z, a-z, 0-9 and \_, -, .

4\. Provide a description (not mandatory).

5\. Entity validation plugin is used when we want to have validation on
some data entries. This is done via a custom script (see [Entity
Validation
Scripts](https://unlimited.ethz.ch/display/openBISDoc2010/Entity+validation+scripts))

6\. Enter the **Generated Code Prefix**. As a convention, we recommended
to use the first 3 letters of the *Object* *type* code (e.g. **INS**, in
this case). This field is used by openBIS to automatically generate
Object codes: the codes will be for example INS1, INS2, INS3, etc.

7\. Leave **Generate Codes** selected if you want to have codes
automatically generated by openBIS.

8\. **Unique Subcodes** is used for contained objects, which are not
used in the ELN. Ignore this option. 

9\. Click **Add Section** at the bottom of the page. Sections are ways
of grouping together similar properties. Examples of sections used in
the ELN are *General info*, *Storage info*, *Experimental Details*, etc.

 

.. image:: https://openbis.ch/wp-content/uploads/2022/02/add-section-new-object-type-1024x536.png

 

10\. Add properties inside the Section, by clicking the **Add Property**
button at the bottom of the page. To remove a property, use the
**Remove** button at the bottom of the page. 

.. image:: https://openbis.ch/wp-content/uploads/2022/02/add-propert-new-obejct-type-1024x537.png

 

11\. Click **Save** at the bottom of the page.

 

Please note that new *Object types* created in the admin UI, do not
automatically appear in ELN drop downs, but they have to be manually
enabled, as described here: [Enable Objects in
dropdowns](https://openbis.ch/index.php/docs/admin-documentation/new-entity-type-registration/enable-objects-in-dropdowns/) 

 

 

Registration of Properties
^^^^

When registering new properties, the fields below need to be filled in.

.. image:: https://openbis.ch/wp-content/uploads/2022/02/new-property.png

 

1.  **Code.** Unique identifier of the property. Codes can only contain
    A-Z, a-z, 0-9 and \_, -, .
2.  **Data Type.** See below for data types definitions.
3.  **Label.** This is the property/column header that the user can see
    in the ELN.
4.  **Description**: The description is shown inside a field, to give
    hints about the field itself. In most cases, label and description
    can be the same.
5.  **Dynamic Property Plugin**: Script for calculated properties.
    See [Dynamic
    properties](https://unlimited.ethz.ch/display/openBISDoc2010/Dynamic+Properties)
6.  **Editable**: Editable in the ELN interface. In some cases, metadata
    is automatically imported by scripts and this should not be changed
    by users in the interface.
7.  **Mandatory**: Field can be set as mandatory.

 

### Property Data Types

 

.. image:: https://openbis.ch/wp-content/uploads/2022/02/property-types.png

 

1.  **BOOLEAN**: yes or no
2.  **CONTROLLEDVOCABULARY**: list of predefined values
3.  **DATE**. Date field
4.  **HYPERLINK**: URL
5.  **INTEGER**: integer number
6.  **MATERIAL**. Not used in ELN. It will be dismissed.
7.  **MULTILINE\_VARCHAR**: long text. It is possible to enable a Rich
    Text Editor for this type of property. This is described
    here: [Enable Rich Text Editor or Spreadsheet
    Widgets](https://openbis.ch/index.php/docs/admin-documentation-openbis-19-06-4/new-entity-type-registration/enable-rich-text-editor-or-spreadsheet-widgets/)
8.  **REAL**: decimal number
9.  **OBJECT**. 1-1 connection to a specific object type.
10. **TIMESTAMP**: date with timestamp
11. **VARCHAR**: one-line text
12. **XML**: to be used by *Managed Properties* (see [openBIS Managed
    Properties](https://unlimited.ethz.ch/display/openBISDoc2010/Managed+Properties)[)](https://wiki-bsse.ethz.ch/display/openBISDoc1906/Managed+Properties)
    and for *Spreadsheet component*s, as described here:[Enable Rich
    Text Editor or Spreadsheet
    Widgets](https://openbis.ch/index.php/docs/admin-documentation-openbis-19-06-4/new-entity-type-registration/enable-rich-text-editor-or-spreadsheet-widgets/)

 

### Considerations on properties registration

 

1.  If you create a property with code “PROJECT”, you should not use the
    label “Project”. This will give an error if you use XLS Batch
    registration/update, because openBIS considers this to be an openBIS
    *Project*.
2.  You should not assign more than 1 property with same label to the
    same *Object* type. If two or more properties with the same label
    are present in the same *Object* type, this will result in an error
    in the XLS Batch registration/update.

 

### Controlled Vocabularies

 

Controlled vocabularies are pre-defined lists of values for a given
field.

 

Existing Vocabularies can be visualised from the Types -&gt;
Vocabularies Tab. Vocabularies staring with the “**$**” symbol are
internal: they cannot be deleted and their terms cannot be deleted.
However, it is possible to add new terms to these vocabularies and these
can also be deleted.

 

New Vocabularies can be added, by clicking the **Add** button at the
bottom of the page.

.. image:: https://openbis.ch/wp-content/uploads/2020/02/controlled_vocabularies-1024x480.png

 

When registering a new vocabulary, a Code for the vocabulary needs to be
entered. This corresponds to the name of the vocabulary, and it is a
unique identifier. Codes can only contain A-Z, a-z, 0-9 and \_, -, .

 

.. image:: https://openbis.ch/wp-content/uploads/2020/02/add-terms-to-vocabulary-1024x481.png

 

To add terms to the list click **Add Term** at the bottom of the page.
Vocabulary terms always have a code and a label: the code is unique and
contain only alpha-numeric characters; labels are not necessarily unique
and allow also special characters. If the label is not defined, codes
are shown.

After creating the vocabulary and registering the terms, remember to
**Save**. 

 

 

 

Register a new Experiment/Collection type
^^^^

 

The registration of a new **Collection** type is very similar to the
registration of **Object** types. For Collection Types, you only need to
provide a Code (which is a unique identifier), Description and add a
validation plugin if you want to have metadata validation (see [Entity
Validation
Scripts](https://unlimited.ethz.ch/display/openBISDoc2010/Entity+validation+scripts)). 

 

.. image:: https://openbis.ch/wp-content/uploads/2020/02/Collection-type-1024x481.png

####  

 

Register a new Dataset type
^^^^

 

The registration of a new Dataset types is similar to the registration
of object types. 

It is possible to disallow deletion for a given dataset type.

.. image:: https://openbis.ch/wp-content/uploads/2020/02/Dataset-type-1024x478.png

 

### Articles

-   [Enable Rich Text Editor or Spreadsheet
    Widgets](https://openbis.ch/index.php/docs/admin-documentation/new-entity-type-registration/enable-rich-text-editor-or-spreadsheet-widgets/)
-   [Enable Objects in
    dropdowns](https://openbis.ch/index.php/docs/admin-documentation/new-entity-type-registration/enable-objects-in-dropdowns/)
-   [Register masterdata via
    Excel](https://openbis.ch/index.php/docs/admin-documentation/new-entity-type-registration/register-masterdata-via-excel/)
-   [Properties
    overview](https://openbis.ch/index.php/docs/admin-documentation/new-entity-type-registration/properties-overview/)
-   [Internal properties and
    vocabularies](https://openbis.ch/index.php/docs/admin-documentation/new-entity-type-registration/internal-properties-and-vocabularies/)

Updated on November 30, 2022
